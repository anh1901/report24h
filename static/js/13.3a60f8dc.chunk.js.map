{"version":3,"sources":["views/AdminViews/components/ReportTables/ApprovedReportTable.js","views/AdminViews/Reports/ApprovedReports.js"],"names":["ReportTableNew","_ref","_useState","useState","_useState2","Object","slicedToArray","reports","setReports","_useState3","_useState4","categoryList","setCategoryList","user_info","localStorage","getItem","loadReports","_loadReports","apply","this","arguments","asyncToGenerator","_regeneratorRuntime","mark","_callee2","param","response","editedResponse","wrap","_context2","prev","next","status","reportApi","getByStatus","sent","map","item","reportViews","length","filter","e","userId","JSON","parse","email","objectSpread","_props","color","align","sort","a","b","moment","createTime","reverse","t0","toast","error","message","stop","_loadCategory","_callee3","params","_context3","categoryApi","getAllSub","getStatusById","id","undefined","find","c","categoryId","subCategory","_useState5","_useState6","temp","setTemp","useEffect","setInterval","prevTemp","loadCategory","_useState7","_useState8","details","setDetails","_useState9","_useState10","visibleModal","setVisibleModal","columns","key","label","sorter","_style","width","className","defineProperty","_useState11","_useState12","editedDescription","setEditedDescription","toggleDetails","_ref2","_callee","param2","metaDescription","description","_context","reportId","reportViewUpdate","stringify","replace","substring","_x","react_default","createElement","Fragment","Modal","isOpen","toggle","size","style","maxWidth","ModalHeader","ModalBody","FormGroup","row","Col","md","Label","for","location","timeFraud","staffId","esm","content","allowAttributes","allowElements","reportDetails","img","type","CreatePost","media","includes","preview","video","height","controls","objectFit","autoPlay","loop","src","Row","class","role","index_es","noItemsLabel","activePage","clickableRows","columnFilter","columnSorter","items","itemsPerPageSelect","itemsPerPage","pagination","scopedColumns","index","backgroundColor","_id","textOverflow","overflow","whiteSpace","blockList","noHtml","show_details","Button","onClick","tableProps","hover","responsive","NewReports","ApprovedReportTable","Component"],"mappings":"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","file":"static/js/13.3a60f8dc.chunk.js","sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport \"@coreui/coreui-pro/dist/css/coreui.min.css\";\r\nimport \"react-bootstrap-table/dist//react-bootstrap-table-all.min.css\";\r\n\r\nimport reportApi from \"../../../../api/reportApi\";\r\nimport { CSmartTable } from \"@coreui/react-pro\";\r\nimport { Markup } from \"interweave\";\r\nimport moment from \"moment\";\r\nimport \"moment/locale/vi\";\r\nimport {\r\n  Button,\r\n  Col,\r\n  FormGroup,\r\n  Label,\r\n  Modal,\r\n  ModalBody,\r\n  ModalHeader,\r\n  Row,\r\n} from \"reactstrap\";\r\nimport categoryApi from \"../../../../api/categoryApi\";\r\nimport { ImgUpload, UploadContainer } from \"../../Posts/CreatePost\";\r\nimport { toast } from \"react-toastify\";\r\n//\r\nconst ReportTableNew = () => {\r\n  const [reports, setReports] = useState();\r\n  const [categoryList, setCategoryList] = useState([]);\r\n  const user_info = localStorage.getItem(\"user_info\");\r\n  async function loadReports() {\r\n    try {\r\n      const param = { status: 3 };\r\n      const response = await reportApi.getByStatus(param);\r\n      const editedResponse = response.map((item) =>\r\n        item.reportViews.length > 0 &&\r\n        item.reportViews.filter((e) => e.userId === JSON.parse(user_info).email)\r\n          .length > 0\r\n          ? { ...item }\r\n          : { ...item, _props: { color: \"info\", align: \"middle\" } }\r\n      );\r\n      setReports(\r\n        editedResponse\r\n          .sort((a, b) => new moment(a.createTime) - new moment(b.createTime))\r\n          .reverse()\r\n      );\r\n    } catch (e) {\r\n      toast.error(e.message);\r\n    }\r\n  }\r\n  async function loadCategory() {\r\n    try {\r\n      const params = {};\r\n      const response = await categoryApi.getAllSub(params);\r\n      setCategoryList(response);\r\n    } catch (e) {\r\n      toast.error(e.message);\r\n    }\r\n  }\r\n  const getStatusById = (id) => {\r\n    if (id === 1) {\r\n      return \"Khác\";\r\n    } else if (categoryList.find((c) => c.categoryId === id) === undefined) {\r\n      return \"Đang xác định\";\r\n    } else {\r\n      return categoryList.find((c) => c.categoryId === id).subCategory;\r\n    }\r\n  };\r\n  const [temp, setTemp] = useState(0);\r\n  useEffect(() => {\r\n    setInterval(() => {\r\n      setTemp((prevTemp) => prevTemp + 1);\r\n    }, 5000);\r\n  }, []);\r\n  useEffect(() => {\r\n    loadReports();\r\n    loadCategory();\r\n  }, [temp]);\r\n  //\r\n  const [details, setDetails] = useState(null);\r\n  const [visibleModal, setVisibleModal] = useState(false);\r\n  const columns = [\r\n    {\r\n      key: \"index\",\r\n      label: \"Thứ tự\",\r\n      filter: false,\r\n      sorter: false,\r\n      _style: { width: \"5%\" },\r\n      _props: { className: \"fw-semibold\" },\r\n    },\r\n    {\r\n      key: \"location\",\r\n      label: \"Địa điểm\",\r\n      _style: { width: \"15%\" },\r\n      _props: { className: \"fw-semibold\" },\r\n    },\r\n\r\n    {\r\n      key: \"timeFraud\",\r\n      label: \"Thời điểm vụ việc\",\r\n      _style: { width: \"8%\" },\r\n      _props: { className: \"fw-semibold\" },\r\n    },\r\n    {\r\n      key: \"description\",\r\n      label: \"Chi tiết\",\r\n      _style: { width: \"15%\" },\r\n      _props: { className: \"fw-semibold\" },\r\n    },\r\n    {\r\n      key: \"categoryId\",\r\n      label: \"Danh mục\",\r\n      _style: { width: \"10%\" },\r\n      _props: { className: \"fw-semibold\" },\r\n    },\r\n    {\r\n      key: \"staffId\",\r\n      label: \"Người gửi\",\r\n      _style: { width: \"10%\" },\r\n      _props: { className: \"fw-semibold\" },\r\n    },\r\n    {\r\n      key: \"show_details\",\r\n      label: \"Thêm\",\r\n      label: \"Options\",\r\n      _style: { width: \"5%\" },\r\n      filter: false,\r\n      sorter: false,\r\n      _props: { className: \"fw-semibold\" },\r\n    },\r\n  ];\r\n  const [editedDescription, setEditedDescription] = useState(null);\r\n\r\n  const toggleDetails = async (id) => {\r\n    setVisibleModal(!visibleModal);\r\n    try {\r\n      const param = { id: id };\r\n      const param2 = { reportId: id, userId: JSON.parse(user_info).email };\r\n      const response = await reportApi.find(param);\r\n      await reportApi.reportViewUpdate(param2);\r\n      const metaDescription = JSON.stringify(response.description)\r\n        .replace(\r\n          \"<img\",\r\n          '<img style=\"width:55rem;height:30rem;padding-left:2rem;padding-right:2rem\"'\r\n        )\r\n        .replace(\r\n          \"<iframe\",\r\n          '<iframe style=\"width:55rem;height:30rem;padding-left:2rem;padding-right:2rem\"'\r\n        )\r\n        .replace(/\\\\/g, \"\");\r\n      const description = metaDescription.substring(\r\n        1,\r\n        metaDescription.length - 1\r\n      );\r\n      setEditedDescription(description);\r\n      setDetails(response);\r\n      loadReports();\r\n    } catch (e) {\r\n      toast.error(e.message);\r\n    }\r\n  };\r\n  return (\r\n    <>\r\n      <Modal\r\n        isOpen={visibleModal}\r\n        toggle={() => (setVisibleModal(false), setDetails(null))}\r\n        className=\"\"\r\n        size=\"lg\"\r\n        style={{ maxWidth: \"1600px\", width: \"80%\" }}\r\n      >\r\n        <ModalHeader\r\n          className=\"bg-primary\"\r\n          toggle={() => (setVisibleModal(false), setDetails(null))}\r\n        >\r\n          Chi tiết báo cáo\r\n        </ModalHeader>\r\n        {details !== null ? (\r\n          <ModalBody>\r\n            <FormGroup row>\r\n              <Col md=\"3\">\r\n                <Label for=\"location\">\r\n                  <b>Địa điểm:</b>{\" \"}\r\n                </Label>\r\n              </Col>\r\n              <Col md=\"9\">{details.location}</Col>\r\n            </FormGroup>\r\n            <FormGroup row>\r\n              <Col md=\"3\">\r\n                <Label for=\"timeFraud\">\r\n                  <b> Thời gian vụ việc: </b>\r\n                </Label>\r\n              </Col>\r\n              <Col md=\"9\">{details.timeFraud}</Col>\r\n            </FormGroup>\r\n            <FormGroup row>\r\n              <Col md=\"3\">\r\n                <Label for=\"createTime\">\r\n                  <b>Thời gian viết: </b>\r\n                </Label>\r\n              </Col>\r\n              <Col md=\"9\">{details.createTime}</Col>\r\n            </FormGroup>\r\n            <FormGroup row>\r\n              <Col md=\"3\">\r\n                <Label for=\"userId\">\r\n                  <b>Người gửi: </b>{\" \"}\r\n                </Label>\r\n              </Col>\r\n              <Col md=\"9\">\r\n                {details.userId === null ? \"Không có\" : details.userId}\r\n              </Col>\r\n            </FormGroup>\r\n            <FormGroup row>\r\n              <Col md=\"3\">\r\n                <Label for=\"category\">\r\n                  {\" \"}\r\n                  <b>Phân loại: </b>\r\n                </Label>\r\n              </Col>\r\n              <Col md=\"9\">\r\n                {details.categoryId === 1\r\n                  ? \"Khác\"\r\n                  : categoryList.find(\r\n                      (c) => c.categoryId === details.categoryId\r\n                    ).subCategory}\r\n              </Col>\r\n            </FormGroup>\r\n            <FormGroup row>\r\n              <Col md=\"3\">\r\n                <Label for=\"staffId\">\r\n                  <b>Người xác nhận: </b>\r\n                </Label>\r\n              </Col>\r\n              <Col md=\"9\">\r\n                {details.staffId !== null ? details.staffId : \"Không có\"}\r\n              </Col>\r\n            </FormGroup>\r\n            <FormGroup row>\r\n              <Col md=\"3\">\r\n                <Label for=\"description\">\r\n                  <b>Chi tiết: </b>\r\n                </Label>\r\n              </Col>\r\n              <Col md=\"12\">\r\n                <Markup\r\n                  content={editedDescription}\r\n                  allowAttributes\r\n                  allowElements\r\n                />\r\n              </Col>\r\n            </FormGroup>\r\n            {/* File đính kèm */}\r\n            <FormGroup row>\r\n              <Col md=\"12\">\r\n                <Label for=\"description\">\r\n                  <b>Ảnh đính kèm: </b>\r\n                </Label>\r\n              </Col>\r\n              {details.reportDetails.length > 0 &&\r\n                (details.reportDetails.filter((img) => img.type === \"Image\")\r\n                  .length > 0\r\n                  ? details.reportDetails\r\n                      .filter((img) => img.type === \"Image\")\r\n                      .map((img) => (\r\n                        <>\r\n                          <Col md=\"2\">\r\n                            <FormGroup>\r\n                              <UploadContainer>\r\n                                {img.media.includes(\"http\") ? (\r\n                                  <ImgUpload preview={img.media} />\r\n                                ) : (\r\n                                  <>\r\n                                    <ImgUpload />\r\n                                  </>\r\n                                )}\r\n                              </UploadContainer>\r\n                            </FormGroup>\r\n                          </Col>\r\n                        </>\r\n                      ))\r\n                  : \"Không có ảnh đính kèm\")}\r\n            </FormGroup>\r\n            <FormGroup row>\r\n              <Col md=\"12\">\r\n                <Label for=\"description\">\r\n                  <b>Video đính kèm: </b>\r\n                </Label>\r\n              </Col>\r\n              {details.reportDetails.length > 0 &&\r\n                (details.reportDetails.filter((video) => video.type === \"Video\")\r\n                  .length > 0\r\n                  ? details.reportDetails\r\n                      .filter((video) => video.type === \"Video\")\r\n                      .map((video) => (\r\n                        <Col md=\"12\">\r\n                          {video.media.includes(\"http\") ? (\r\n                            <label for=\"videos\">\r\n                              <video\r\n                                width=\"400\"\r\n                                height=\"150\"\r\n                                controls\r\n                                style={{\r\n                                  height: \"200px\",\r\n                                  objectFit: \"contain\",\r\n                                }}\r\n                                autoPlay\r\n                                loop\r\n                              >\r\n                                <source src={video.media} />\r\n                              </video>\r\n                            </label>\r\n                          ) : (\r\n                            <span className=\"text-muted\">Không có video</span>\r\n                          )}\r\n                        </Col>\r\n                      ))\r\n                  : \"Không có video đính kèm\")}\r\n            </FormGroup>\r\n          </ModalBody>\r\n        ) : (\r\n          <Row className=\"d-flex justify-content-center\">\r\n            <div class=\"spinner-border text-primary mb-5 mt-5\" role=\"status\">\r\n              <span class=\"sr-only\">Loading...</span>\r\n            </div>\r\n          </Row>\r\n        )}\r\n        {/* <ModalFooter></ModalFooter> */}\r\n      </Modal>\r\n\r\n      {reports !== null && (\r\n        <CSmartTable\r\n          noItemsLabel=\"Không có dữ liệu...\"\r\n          activePage={1}\r\n          clickableRows\r\n          columns={columns}\r\n          columnFilter\r\n          columnSorter\r\n          items={reports}\r\n          itemsPerPageSelect\r\n          itemsPerPage={10}\r\n          pagination\r\n          scopedColumns={{\r\n            index: (item) => {\r\n              return JSON.stringify(item).includes(\"_props\") ? (\r\n                <td\r\n                  className=\"py-2 font-weight-bold\"\r\n                  style={{ backgroundColor: \"#e8e6e6\" }}\r\n                >\r\n                  {item._id + 1}\r\n                </td>\r\n              ) : (\r\n                <td className=\"py-2\">{item._id + 1}</td>\r\n              );\r\n            },\r\n            description: (item) => {\r\n              return JSON.stringify(item).includes(\"_props\") ? (\r\n                <td\r\n                  className=\"py font-weight-bold\"\r\n                  style={{\r\n                    textOverflow: \"ellipsis\",\r\n                    overflow: \"hidden\",\r\n                    whiteSpace: \"nowrap\",\r\n                    maxWidth: \"20rem\",\r\n                    backgroundColor: \"#e8e6e6\",\r\n                  }}\r\n                >\r\n                  <Markup\r\n                    content={item.description}\r\n                    allowAttributes\r\n                    allowElements\r\n                    blockList={[\"img\", \"iframe\"]}\r\n                    noHtml={true}\r\n                  />\r\n                </td>\r\n              ) : (\r\n                <td\r\n                  className=\"py\"\r\n                  style={{\r\n                    textOverflow: \"ellipsis\",\r\n                    overflow: \"hidden\",\r\n                    whiteSpace: \"nowrap\",\r\n                    maxWidth: \"20rem\",\r\n                  }}\r\n                >\r\n                  <Markup\r\n                    content={item.description}\r\n                    allowAttributes\r\n                    allowElements\r\n                    blockList={[\"img\", \"iframe\"]}\r\n                    noHtml={true}\r\n                  />\r\n                </td>\r\n              );\r\n            },\r\n            timeFraud: (item) => {\r\n              return JSON.stringify(item).includes(\"_props\") ? (\r\n                <td\r\n                  className=\"py font-weight-bold\"\r\n                  style={{ backgroundColor: \"#e8e6e6\" }}\r\n                >\r\n                  {JSON.stringify(item.timeFraud)\r\n                    .replace(\"T\", \" \")\r\n                    .substring(1, JSON.stringify(item.timeFraud).length - 1)}\r\n                </td>\r\n              ) : (\r\n                <td className=\"py\">\r\n                  {JSON.stringify(item.timeFraud)\r\n                    .replace(\"T\", \" \")\r\n                    .substring(1, JSON.stringify(item.timeFraud).length - 1)}\r\n                </td>\r\n              );\r\n            },\r\n            show_details: (item) => {\r\n              return JSON.stringify(item).includes(\"_props\") ? (\r\n                <td\r\n                  className=\"py-2 font-weight-bold\"\r\n                  style={{ backgroundColor: \"#e8e6e6\" }}\r\n                >\r\n                  <Button onClick={() => toggleDetails(item.reportId)}>\r\n                    Chi tiết\r\n                  </Button>\r\n                </td>\r\n              ) : (\r\n                <td className=\"py-2\">\r\n                  <Button onClick={() => toggleDetails(item.reportId)}>\r\n                    Chi tiết\r\n                  </Button>\r\n                </td>\r\n              );\r\n            },\r\n            location: (item) => {\r\n              return JSON.stringify(item).includes(\"_props\") ? (\r\n                <td\r\n                  className=\"py-2 font-weight-bold\"\r\n                  style={{ backgroundColor: \"#e8e6e6\" }}\r\n                >\r\n                  {item.location}\r\n                </td>\r\n              ) : (\r\n                <td className=\"py-2\">{item.location}</td>\r\n              );\r\n            },\r\n            categoryId: (item) => {\r\n              return JSON.stringify(item).includes(\"_props\") ? (\r\n                <td\r\n                  className=\"py-2 font-weight-bold\"\r\n                  style={{ backgroundColor: \"#e8e6e6\" }}\r\n                >\r\n                  {getStatusById(item.categoryId)}\r\n                </td>\r\n              ) : (\r\n                <td className=\"py-2\">{getStatusById(item.categoryId)}</td>\r\n              );\r\n            },\r\n            staffId: (item) => {\r\n              return JSON.stringify(item).includes(\"_props\") ? (\r\n                <td\r\n                  className=\"py-2 font-weight-bold\"\r\n                  style={{ backgroundColor: \"#e8e6e6\" }}\r\n                >\r\n                  {item.userId === item.staffId ? (\r\n                    <span className=\"text-info\">Nhân viên</span>\r\n                  ) : (\r\n                    \"Người dùng\"\r\n                  )}\r\n                </td>\r\n              ) : (\r\n                <td className=\"py-2\">\r\n                  {item.userId === item.staffId ? (\r\n                    <span className=\"text-info\">Nhân viên</span>\r\n                  ) : (\r\n                    \"Người dùng\"\r\n                  )}\r\n                </td>\r\n              );\r\n            },\r\n          }}\r\n          tableProps={{\r\n            hover: true,\r\n            responsive: true,\r\n          }}\r\n        />\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default ReportTableNew;\r\n","import React, { Component } from \"react\";\r\nimport ApprovedReportTable from \"../components/ReportTables/ApprovedReportTable\";\r\n\r\nclass NewReports extends Component {\r\n  render() {\r\n    return (\r\n      <div className=\"animated fadeIn pl-3 pr-3 pt-5\">\r\n        <ApprovedReportTable />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default NewReports;\r\n"],"sourceRoot":""}